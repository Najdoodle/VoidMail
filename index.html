<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VoidMail</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    /* Utility */
    .hidden { display: none !important; }

    /* Gradient animated background for command box */
    .command-box {
      margin: 2rem auto;
      padding: 1rem;
      width: 80%; max-width: 500px;
      border-radius: 12px;
      background: linear-gradient(120deg, #1a1a1a, #111, #1a1a1a);
      background-size: 300% 300%;
      animation: gradientBG 5s ease infinite;
      text-align: center;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Input styling + shake on invalid */
    #commandInput {
      width: 100%; padding: 0.75rem;
      font-size: 1.1rem;
      border: none; border-radius: 6px;
      background: #222; color: #eee;
      outline: none;
      transition: transform 0.2s;
    }
    #commandInput.invalid {
      animation: shake 0.3s;
    }
    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-8px); }
      40%, 80% { transform: translateX(8px); }
    }

    /* Proceed button bounce on hover */
    .primary-btn {
      margin-top: 1.5rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border: none; border-radius: 8px;
      background: #4a90e2; color: #fff;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .primary-btn:hover {
      animation: bounce 0.6s;
    }
    @keyframes bounce {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    /* Output appearance */
    .invox-output {
      display: block;
      margin: 1rem auto 0;
      padding: 1rem;
      background: rgba(0,0,0,0.9);
      color: #fffa;
      font-family: monospace;
      font-size: 1rem;
      border-radius: 6px;
      white-space: pre;
      min-height: 4em;
    }
  </style>
</head>
<body>
  <div class="theme-switcher">
    <button id="themeToggle" class="theme-toggle">☀️</button>
    <span class="theme-hint">Click me!</span>
  </div>

  <section id="homeSection" class="view">
    <h1 class="title">Welcome to VoidMail</h1>
    <p class="description">Schedule messages to send into the digital void—only to return when the time is right.</p>

    <div class="command-box">
      <input type="text" id="commandInput" placeholder="whats ur command" autocomplete="off" />
      <pre id="invoxOutput" class="invox-output hidden"></pre>
    </div>
    <button id="proceedBtn" class="primary-btn">Proceed</button>
  </section>

  <section id="formSection" class="view hidden">
    <h2 class="form-title">Schedule Your Message</h2>
    <!-- form omitted for brevity -->
  </section>

  <script>
    // Theme toggle
    document.addEventListener('DOMContentLoaded', () => {
      const theme = localStorage.getItem('vmTheme') || 'dark';
      document.documentElement.setAttribute('data-theme', theme);

      document.getElementById('themeToggle').addEventListener('click', () => {
        const cur = document.documentElement.getAttribute('data-theme');
        const nxt = cur === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', nxt);
        localStorage.setItem('vmTheme', nxt);
      });

      // Command logic with typing animation
      const cmdInput = document.getElementById('commandInput');
      const invox = document.getElementById('invoxOutput');

      function typeArt(lines) {
        invox.textContent = '';
        invox.classList.remove('hidden');
        let idx = 0;
        const interval = setInterval(() => {
          invox.textContent += lines[idx] + '\n';
          idx++;
          if (idx === lines.length) clearInterval(interval);
        }, 150);
      }

      cmdInput.addEventListener('keyup', (e) => {
        if (e.key !== 'Enter') return;
        e.preventDefault();
        invox.classList.add('hidden');
        cmdInput.classList.remove('invalid');

        const cmd = cmdInput.value.trim().toLowerCase();
        if (cmd === 'cat') {
          const catLines = [' /\\_/\\  ', '( o . o )', ' > ^ < '];
          typeArt(catLines);
        } else {
          cmdInput.classList.add('invalid');
          invox.textContent = 'Unknown command';
          invox.classList.remove('hidden');
        }
      });

      // Navigation
      document.getElementById('proceedBtn').addEventListener('click', () => {
        document.getElementById('homeSection').classList.add('hidden');
        document.getElementById('formSection').classList.remove('hidden');
      });
      document.getElementById('backBtn')?.addEventListener('click', () => {
        document.getElementById('formSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
      });
    });
  </script>
</body>
</html>
